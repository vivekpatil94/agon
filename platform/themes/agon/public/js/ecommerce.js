(()=>{"use strict";function t(t,a){var o="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!o){if(Array.isArray(t)||(o=function(t,a){if(!t)return;if("string"==typeof t)return e(t,a);var o=Object.prototype.toString.call(t).slice(8,-1);"Object"===o&&t.constructor&&(o=t.constructor.name);if("Map"===o||"Set"===o)return Array.from(t);if("Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return e(t,a)}(t))||a&&t&&"number"==typeof t.length){o&&(t=o);var r=0,n=function(){};return{s:n,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,s=!0,c=!1;return{s:function(){o=o.call(t)},n:function(){var t=o.next();return s=t.done,t},e:function(t){c=!0,i=t},f:function(){try{s||null==o.return||o.return()}finally{if(c)throw i}}}}function e(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,o=new Array(e);a<e;a++)o[a]=t[a];return o}var a=a||{};window.MartApp=a,a.isRTL="rtl"===$("body").prop("dir"),function(e){a.init=function(){a.$body=e(document.body),a.$formSearch=e("#products-filter-form"),a.productListing=".products-listing",a.$productListing=e(a.productListing),a.shopCart=document.getElementById("shop-cart-offcanvas"),a.$shopCart=new bootstrap.Offcanvas(a.shopCart),a.$quickViewModal=e("#product-quick-view-modal"),this.productQuickView(),this.productQuantity(),this.addProductToWishlist(),this.addProductToCompare(),this.addProductToCart(),this.applyCouponCode(),this.filterSlider(),this.handleTabBootstrap(),this.toggleViewProducts(),this.toolbarOrderingProducts(),this.productsFilter(),this.searchProducts(),this.ajaxUpdateCart(),this.removeCartItem(),this.removeWishlistItem(),this.removeCompareItem(),this.submitReviewProduct(),this.customerDashboard(),this.stickyAddToCart(),this.recentlyViewedProducts(),this.lightBox(),this.productGallery(),a.$body.on("click",".sidebar-filter-mobile",(function(t){t.preventDefault(),a.toggleSidebarFilterProducts("open",e(t.currentTarget).data("toggle"))})),a.$body.on("submit",".products-filter-form-vendor",(function(t){return!a.$formSearch.length||(a.$formSearch.trigger("submit"),!1)}))},a.toggleSidebarFilterProducts=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"close",a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"product-categories-primary-sidebar",o=e('[data-toggle-target="'+a+'"]');"close"===t?(o.removeClass("active"),_scrollBar.reset()):(o.addClass("active"),_scrollBar.hide())},a.productQuickView=function(){a.$body.on("click",".box-quick-view .product-quick-view-button",(function(t){t.preventDefault();var o=e(t.currentTarget);e.ajax({url:o.data("url"),type:"GET",beforeSend:function(){o.addClass("button-loading"),a.$quickViewModal.removeClass("loaded").addClass("loading"),a.$quickViewModal.modal("show"),a.$quickViewModal.find(".product-modal-content").addClass("cotnent-loading").html("")},success:function(t){t.error||a.$quickViewModal.find(".product-modal-content").html(t.data)},error:function(t){AgonApp.handleError(t)},complete:function(){a.$quickViewModal.addClass("loaded").removeClass("loading"),a.$quickViewModal.find(".product-modal-content").removeClass("cotnent-loading"),o.removeClass("button-loading")}})}))},a.productGallery=function(t,a){a&&a.length||(a=e(".product-image-slider"));var o=a.data("nav");a.length&&t&&(a.hasClass("slick-initialized")&&a.slick("unslick"),e(o).length&&e(o).hasClass("slick-initialized")&&e(o).slick("unslick")),a.slick({slidesToShow:1,slidesToScroll:1,arrows:!1,fade:!1,asNavFor:o});var r={slidesToShow:3,slidesToScroll:1,asNavFor:a.data("main"),dots:!1,focusOnSelect:!0,vertical:!0,prevArrow:'<button type="button" class="slick-prev"><i class="fi-rs-arrow-small-left"></i></button>',nextArrow:'<button type="button" class="slick-next"><i class="fi-rs-arrow-small-right"></i></button>',responsive:[{breakpoint:768,settings:{vertical:!1,adaptiveHeight:!0}}]};e(o).slick(r)},a.productQuantity=function(){a.$body.on("click",".quantity .increase, .quantity .decrease",(function(t){t.preventDefault();var o=e(this),r=o.closest(".product-button").find(".quantity_button"),n=o.closest(".quantity").siblings(".box-price").find(".price-current"),i=n.html(),s=o.siblings(".qty"),c=parseInt(s.attr("step"),10),l=parseInt(s.val(),10),d=parseInt(s.attr("min"),10),u=parseInt(s.attr("max"),10);if(d=d||1,u=u||l+1,o.hasClass("decrease")&&l>d){s.val(l-c),s.trigger("change");var p=+r.attr("data-quantity");p-=1,r.attr("data-quantity",p);var f=(1*i-i/l).toFixed(2);n.html(f)}if(o.hasClass("increase")&&l<u){s.val(l+c),s.trigger("change");var m=+r.attr("data-quantity");m+=1,r.attr("data-quantity",m);var h=(1*i+i/l).toFixed(2);n.html(h)}a.processUpdateCart(o)})),a.$body.on("keyup",".quantity .qty",(function(t){t.preventDefault();var o=e(this),r=o.closest(".product-button").find(".quantity_button"),n=o.closest(".quantity").siblings(".box-price").find(".price-current"),i=n.data("current"),s=parseInt(o.val(),10),c=parseInt(o.attr("min"),10),l=parseInt(o.attr("max"),10);if(s<=(l||s+1)&&s>=(c||1)){r.attr("data-quantity",s);var d=(i*s).toFixed(2);n.html(d)}a.processUpdateCart(o)}))},a.addProductToWishlist=function(){a.$body.on("click",".product-wishlist-button",(function(t){t.preventDefault();var a=e(t.currentTarget);e.ajax({url:a.data("url"),method:"POST",beforeSend:function(){a.addClass("button-loading")},success:function(t){var o;if(t.error)return AgonApp.showError(t.message),!1;AgonApp.showSuccess(t.message),e(".btn-wishlist .header-item-counter").text(t.data.count),null!==(o=t.data)&&void 0!==o&&o.added?e('.wishlist-button .wishlist[data-url="'+a.data("url")+'"]').addClass("added-to-wishlist"):e('.wishlist-button .wishlist[data-url="'+a.data("url")+'"]').removeClass("added-to-wishlist")},error:function(t){AgonApp.showError(t.message)},complete:function(){a.removeClass("button-loading")}})}))},a.addProductToCompare=function(){a.$body.on("click",".product-compare-button",(function(t){t.preventDefault();var a=e(t.currentTarget);e.ajax({url:a.data("url"),method:"POST",beforeSend:function(){a.addClass("button-loading")},success:function(t){if(t.error)return AgonApp.showError(t.message),!1;AgonApp.showSuccess(t.message),e(".btn-compare .header-item-counter").text(t.data.count)},error:function(t){AgonApp.showError(t.message)},complete:function(){a.removeClass("button-loading")}})}))},a.addProductToCart=function(){a.$body.on("click","form.cart-form button[type=submit]",(function(t){t.preventDefault();var o=e(this).closest("form.cart-form"),r=e(this);e.ajax({type:"POST",url:o.prop("action"),data:o.serialize(),beforeSend:function(){r.addClass("button-loading")},success:function(t){if(t.error)return AgonApp.showError(t.message),!1;AgonApp.showSuccess(t.message),"checkout"===r.prop("name")&&void 0!==t.data.next_url?window.location.href=t.data.next_url:(a.$shopCart.show(),a.loadAjaxCart())},error:function(t){AgonApp.handleError(t,o)},complete:function(){r.removeClass("button-loading")}})}))},a.applyCouponCode=function(){e(document).on("keypress",".form-coupon-wrapper .coupon-code",(function(t){if("Enter"===t.key)return t.preventDefault(),t.stopPropagation(),e(t.currentTarget).closest(".form-coupon-wrapper").find(".btn-apply-coupon-code").trigger("click"),!1})),e(document).on("click",".btn-apply-coupon-code",(function(t){t.preventDefault();var a=e(t.currentTarget);e.ajax({url:a.data("url"),type:"POST",data:{coupon_code:a.closest(".form-coupon-wrapper").find(".coupon-code").val()},beforeSend:function(){a.prop("disabled",!0).addClass("loading")},success:function(t){t.error?AgonApp.showError(t.message):e(".cart-page-content").load(window.location.href+"?applied_coupon=1 .cart-page-content > *",(function(){a.prop("disabled",!1).removeClass("loading"),AgonApp.showSuccess(t.message)}))},error:function(t){AgonApp.handleError(t)},complete:function(t){var e;200==t.status&&0==(null==t||null===(e=t.responseJSON)||void 0===e?void 0:e.error)||a.prop("disabled",!1).removeClass("loading")}})})),e(document).on("click",".btn-remove-coupon-code",(function(t){t.preventDefault();var a=e(t.currentTarget),o=a.text();a.text(a.data("processing-text")),e.ajax({url:a.data("url"),type:"POST",success:function(t){t.error?AgonApp.showError(t.message):e(".cart-page-content").load(window.location.href+" .cart-page-content > *",(function(){a.text(o)}))},error:function(t){AgonApp.handleError(t)},complete:function(t){var e;200==t.status&&0==(null==t||null===(e=t.responseJSON)||void 0===e?void 0:e.error)||a.text(o)}})}))},a.loadAjaxCart=function(){var t;null!==(t=window.siteConfig)&&void 0!==t&&t.ajaxCart&&e.ajax({url:window.siteConfig.ajaxCart,method:"GET",success:function(t){t.error||(e(".btn-shopping-cart .header-item-counter").text(t.data.count),e(".cart--mini .cart-price-total .cart-amount span").text(t.data.total_price),e(".menu--footer .icon-cart .cart-counter").text(t.data.count),e(".header-top .header-cart-button .cart-count").text(t.data.count),e(a.shopCart).find(".mini-cart-content").html(t.data.html))}})},a.changeInputInSearchForm=function(t){o=!1,a.$formSearch.find("input, select, textarea").each((function(a,o){var r=e(o),n=r.attr("name"),i=t[n]||null;if("checkbox"===r.attr("type"))r.prop("checked",!1),Array.isArray(i)?r.prop("checked",i.includes(r.val())):r.prop("checked",!!i);else r.is("[name=max_price]")?r.val(i||r.data("max")):r.is("[name=min_price]")?r.val(i||r.data("min")):r.val()!=i&&r.val(i)})),o=!0},a.convertFromDataToArray=function(t){var e=[];return t.forEach((function(t){if(t.value){if(["min_price","max_price"].includes(t.name))if(a.$formSearch.find("input[name="+t.name+"]").data(t.name.substring(0,3))==parseInt(t.value))return;e.push(t)}})),e};var o=!0;a.productsFilter=function(){function t(e){e.length&&(e.addClass("opened"),e.closest("ul").closest("li.category-filter").length&&t(e.closest("ul").closest("li.category-filter")))}a.widgetProductCategories=".widget-product-categories",a.$widgetProductCategories=e(a.widgetProductCategories),e(document).on("change","#products-filter-form .product-filter-item",(function(){o&&e(this).closest("form").trigger("submit")})),e(".widget-product-categories").find("li a.active").map((function(a,o){var r=e(o).closest("li.category-filter").closest("ul").closest("li.category-filter");r.length&&t(r)})),e(".catalog-toolbar__ordering input[name=sort-by]").on("change",(function(t){a.$formSearch.find("input[name=sort-by]").val(e(t.currentTarget).val()),a.$formSearch.trigger("submit")})),a.$body.on("click",".cat-menu-close",(function(t){t.preventDefault(),e(this).closest("li").toggleClass("opened")})),e(document).on("click",a.widgetProductCategories+" li a",(function(t){t.preventDefault();var o=e(t.currentTarget),r=o.hasClass("active"),n=o.closest(a.widgetProductCategories);n.find("li a").removeClass("active"),o.addClass("active");var i=n.find("input[name='categories[]']");if(i.length)r?(o.removeClass("active"),i.val("")):i.val(o.data("id")),i.trigger("change");else{var s=o.attr("href");a.$formSearch.attr("action",s).trigger("submit")}})),e(document).on("submit","#products-filter-form",(function(t){t.preventDefault();var o=e(t.currentTarget),r=o.serializeArray(),n=a.convertFromDataToArray(r),i=[],s=a.$productListing.find("input[name=page]");s.val()&&n.push({name:"page",value:s.val()}),n.map((function(t){i.push(encodeURIComponent(t.name)+"="+t.value)}));var c=o.attr("action")+(i&&i.length?"?"+i.join("&"):"");n.push({name:"_",value:+new Date}),e.ajax({url:o.attr("action"),type:"GET",data:n,beforeSend:function(){a.$productListing.addClass("content-loading"),e("html, body").animate({scrollTop:a.$productListing.offset().top-200},500);var t=a.$formSearch.find(".nonlinear");t.length&&t[0].noUiSlider.set([a.$formSearch.find("input[name=min_price]").val(),a.$formSearch.find("input[name=max_price]").val()])},success:function(t){if(0==t.error){var o;a.$productListing.html(t.data);var r,i=t.message;if(i&&e(".products-found").length&&e(".products-found").html('<span class="color-green-900 me-1">'+i.substr(0,i.indexOf(" "))+"</span>"+i.substr(i.indexOf(" ")+1)),null!==(o=t.additional)&&void 0!==o&&o.category_tree)e(".widget-product-categories .widget-layered-nav-list").html(null===(r=t.additional)||void 0===r?void 0:r.category_tree);c!=window.location.href&&window.history.pushState(n,t.message,c)}else AgonApp.showError(t.message||"Opps!")},error:function(t){AgonApp.handleError(t)},complete:function(){a.$productListing.removeClass("content-loading")}})})),window.addEventListener("popstate",(function(){var t=window.location.origin+window.location.pathname;if(a.$formSearch.length){a.$formSearch.attr("action",t);var e=a.parseParamsSearch();a.changeInputInSearchForm(e),a.$formSearch.trigger("submit")}else history.back()}),!1),e(document).on("click",a.productListing+" .paginations a",(function(t){t.preventDefault();var o=new URL(e(t.currentTarget).attr("href")).searchParams.get("page");a.$productListing.find("input[name=page]").val(o),a.$formSearch.trigger("submit")}))},a.parseParamsSearch=function(t){for(var e,a=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=t||window.location.search.substring(1),r=/([^&=]+)=?([^&]*)/g,n=/\+/g,i=function(t){return decodeURIComponent(t.replace(n," "))},s={};e=r.exec(o);){var c=i(e[1]),l=i(e[2]);"[]"==c.substring(c.length-2)?(a&&(c=c.substring(0,c.length-2)),(s[c]||(s[c]=[])).push(l)):s[c]=l}return s},a.searchProducts=function(){e("body").on("click",(function(t){e(t.target).closest(".form--quick-search").length||e(".panel--search-result").removeClass("active")}));var t=null;function a(a){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=a.find(".panel--search-result"),n=a.find(".input-search-product").val();if(n){var i=a.find("button[type=submit]");t=e.ajax({type:"GET",url:o||a.data("ajax-url"),data:o?[]:a.serialize(),beforeSend:function(){null!=t&&t.abort(),i.addClass("loading")},success:function(t){if(t.error)r.html("").removeClass("active");else if(o){var a=e("<div>"+t.data+"</div>");r.find(".panel__content").find(".loadmore-container").remove(),r.find(".panel__content").append(a.find(".panel__content").contents())}else r.html(t.data).addClass("active");i.removeClass("loading")},error:function(){i.removeClass("loading")}})}else r.html("").removeClass("active")}e(".form--quick-search .input-search-product").on("keyup",(function(){a(e(this).closest("form"))})),e(".form--quick-search .product-category-select").on("change",(function(){a(e(this).closest("form"))})),e(".form--quick-search").on("click",".loadmore",(function(t){t.preventDefault();var o=e(this).closest("form");e(this).addClass("loading"),a(o,e(this).attr("href"))}))},a.processUpdateCart=function(t){var o=e(".cart-page-content").find(".form--shopping-cart");if(!o.length)return!1;e.ajax({type:"POST",cache:!1,url:o.prop("action"),data:new FormData(o[0]),contentType:!1,processData:!1,beforeSend:function(){t.addClass("button-loading")},success:function(t){if(t.error)return AgonApp.showError(t.message),!1;e(".cart-page-content").load(window.siteConfig.cartUrl+" .cart-page-content > *",(function(){})),a.loadAjaxCart(),AgonApp.showSuccess(t.message)},error:function(e){t.closest(".ps-table--shopping-cart").removeClass("content-loading"),AgonApp.showError(e.message)},complete:function(){t.removeClass("button-loading")}})},a.ajaxUpdateCart=function(t){e(document).on("click",".cart-page-content .update_cart",(function(t){t.preventDefault();var o=e(t.currentTarget);a.processUpdateCart(o)}))},a.removeCartItem=function(){e(document).on("click",".remove-cart-item",(function(t){t.preventDefault();var o=e(this),r=o.closest(".mini-cart-item");e.ajax({url:o.data("url"),method:"GET",beforeSend:function(){o.addClass("button-loading"),r.fadeOut(1e3)},success:function(t){var o;if(t.error)return AgonApp.showError(t.message),!1;var n=e(".cart-page-content");n.length&&null!==(o=window.siteConfig)&&void 0!==o&&o.cartUrl&&n.load(window.siteConfig.cartUrl+" .cart-page-content > *",(function(){})),r.remove(),a.loadAjaxCart()},error:function(t){AgonApp.showError(t.message),r.fadeIn()},complete:function(){o.removeClass("button-loading")}})}))},a.removeWishlistItem=function(){e(document).on("click",".remove-wishlist-item",(function(t){t.preventDefault();var a=e(this);e.ajax({url:a.data("url"),method:"POST",data:{_method:"DELETE"},beforeSend:function(){a.addClass("button-loading")},success:function(t){t.error?AgonApp.showError(t.message):(AgonApp.showSuccess(t.message),e(".btn-wishlist .header-item-counter").text(t.data.count),a.closest("tr").remove())},error:function(t){AgonApp.showError(t.message)},complete:function(){a.removeClass("button-loading")}})}))},a.removeCompareItem=function(){e(document).on("click",".remove-compare-item",(function(t){t.preventDefault();var a=e(this);e.ajax({url:a.data("url"),method:"POST",data:{_method:"DELETE"},beforeSend:function(){a.addClass("button-loading")},success:function(t){t.error?AgonApp.showError(t.message):(AgonApp.showSuccess(t.message),e(".btn-compare .header-item-counter").text(t.data.count),e(".compare-page-content").load(window.location.href+" .compare-page-content > *"))},error:function(t){AgonApp.showError(t.message)},complete:function(){a.removeClass("button-loading")}})}))},a.handleTabBootstrap=function(){var t=window.location.hash;if(t){var a=e('a[href="'+t+'"]');if(a.length)new bootstrap.Tab(a[0]).show()}},a.filterSlider=function(){e(".nonlinear").each((function(t,o){var r=e(o),n=r.data("min"),i=r.data("max"),s=e(o).closest(".nonlinear-wrapper");noUiSlider.create(o,{connect:!0,behaviour:"tap",start:[s.find(".product-filter-item-price-0").val(),s.find(".product-filter-item-price-1").val()],range:{min:n,"10%":.1*i,"20%":.2*i,"30%":.3*i,"40%":.4*i,"50%":.5*i,"60%":.6*i,"70%":.7*i,"80%":.8*i,"90%":.9*i,max:i}});var c=[s.find(".slider__min"),s.find(".slider__max")];o.noUiSlider.on("update",(function(t,e){c[e].html(a.numberFormat(t[e]))})),o.noUiSlider.on("change",(function(t,e){s.find(".product-filter-item-price-"+e).val(Math.round(t[e])).trigger("change")}))}))},a.numberFormat=function(t,e,a,o){var r=isFinite(+t)?+t:0,n=isFinite(+e)?Math.abs(e):0,i=void 0===o?",":o,s=void 0===a?".":a,c=(n?function(t,e){var a=Math.pow(10,e);return Math.round(t*a)/a}(r,n):Math.round(r)).toString().split(".");return c[0].length>3&&(c[0]=c[0].replace(/\B(?=(?:\d{3})+(?!\d))/g,i)),(c[1]||"").length<n&&(c[1]=c[1]||"",c[1]+=new Array(n-c[1].length+1).join("0")),c.join(s)},a.submitReviewProduct=function(){var a=[],o=function(e){var o,n=new ClipboardEvent("").clipboardData||new DataTransfer,i=t(a);try{for(i.s();!(o=i.n()).done;){var s=o.value;n.items.add(s)}}catch(t){i.e(t)}finally{i.f()}e.files=n.files,r(e)},r=function(t){var a=e(".image-upload__text"),o=e(t).data("max-files"),r=t.files.length;o?(r>=o?a.closest(".image-upload__uploader-container").addClass("d-none"):a.closest(".image-upload__uploader-container").removeClass("d-none"),a.text(r+"/"+o)):a.text(r);var n=e(".image-viewer__list"),i=e("#review-image-template").html();if(n.addClass("is-loading"),n.find(".image-viewer__item").remove(),r){for(var s=r-1;s>=0;s--)n.prepend(i.replace("__id__",s));for(var c=function(e){var a=new FileReader;a.onload=function(t){n.find(".image-viewer__item[data-id="+e+"]").find("img").attr("src",t.target.result)},a.readAsDataURL(t.files[e])},l=r-1;l>=0;l--)c(l)}n.removeClass("is-loading")};e(document).on("change",".form-review-product input[type=file]",(function(t){t.preventDefault();var r=this,n=e(r),i=n.data("max-size");Object.keys(r.files).map((function(t){if(i&&r.files[t].size/1024>i){var e=n.data("max-size-message").replace("__attribute__",r.files[t].name).replace("__max__",i);AgonApp.showError(e)}else a.push(r.files[t])}));var s=a.length,c=n.data("max-files");c&&s>c&&a.splice(s-c-1,s-c),o(r)})),e(document).on("click",".form-review-product .image-viewer__icon-remove",(function(t){t.preventDefault();var r=e(t.currentTarget).closest(".image-viewer__item").data("id");a.splice(r,1);var n=e(".form-review-product input[type=file]")[0];o(n)})),sessionStorage.reloadReviewsTab&&(e('#product-detail-tabs a[href="#product-reviews"]').length&&new bootstrap.Tab(e('#product-detail-tabs a[href="#product-reviews"]')[0]).show(),sessionStorage.reloadReviewsTab=!1),e(document).on("click",".form-review-product button[type=submit]",(function(t){t.preventDefault(),t.stopPropagation();var a=e(t.currentTarget),o=e(this).closest("form");e.ajax({type:"POST",cache:!1,url:o.prop("action"),data:new FormData(o[0]),contentType:!1,processData:!1,beforeSend:function(){a.prop("disabled",!0).addClass("loading")},success:function(t){t.error?AgonApp.showError(t.message):(o.find("select").val(0),o.find("textarea").val(""),AgonApp.showSuccess(t.message),setTimeout((function(){sessionStorage.reloadReviewsTab=!0,window.location.reload()}),1500))},error:function(t){AgonApp.handleError(t,o)},complete:function(){a.prop("disabled",!1).removeClass("loading")}})}))},a.customerDashboard=function(){e.fn.datepicker&&e("#date_of_birth").datepicker({format:"yyyy-mm-dd",orientation:"bottom"}),e("#avatar").on("change",(function(t){var a=t.currentTarget;if(a.files&&a.files[0]){var o=new FileReader;o.onload=function(t){e(".userpic-avatar").attr("src",t.target.result)},o.readAsDataURL(a.files[0])}})),e(document).on("click",".btn-trigger-delete-address",(function(t){t.preventDefault(),e(".btn-confirm-delete").data("url",e(this).data("url")),e("#confirm-delete-modal").modal("show")})),e(document).on("click",".btn-confirm-delete",(function(t){t.preventDefault();var a=e(this);e.ajax({url:a.data("url"),type:"GET",beforeSend:function(){a.addClass("loading")},success:function(t){a.closest(".modal").modal("hide"),t.error?AgonApp.showError(t.message):(AgonApp.showSuccess(t.message),e('.btn-trigger-delete-address[data-url="'+a.data("url")+'"]').closest(".col").remove())},error:function(t){AgonApp.handleError(t)},complete:function(){a.removeClass("loading")}})}))},a.recentlyViewedProducts=function(){a.$body.find(".header-recently-viewed").each((function(){var t,o=e(this);o.hover((function(){var r=o.find(".recently-viewed-products");if(!o.data("loaded")&&!t){var n=o.data("url");n&&e.ajax({type:"GET",url:n,beforeSend:function(){t=!0},success:function(t){t.error?AgonApp.showError(t.message):(r.html(t.data),r.find(".product-list li").length>0&&a.slickSlide(r.find(".product-list")),o.data("loaded",!0).find(".loading--wrapper").addClass("d-none"))},error:function(t){AgonApp.handleError(t)},complete:function(){t=!1}})}}))}))},a.toggleViewProducts=function(){e(document).on("click",".store-list-filter-button",(function(t){t.preventDefault(),e("#store-listing-filter-form-wrap").toggle(500)})),a.$body.on("click",".toolbar-view__icon a",(function(t){t.preventDefault();var o=e(t.currentTarget);o.closest(".toolbar-view__icon").find("a").removeClass("active"),o.addClass("active"),e(o.data("target")).removeClass(o.data("class-remove")).addClass(o.data("class-add")),a.$formSearch.find("input[name=layout]").val(o.data("layout"));var r=new URLSearchParams(window.location.search);r.set("layout",o.data("layout"));var n=window.location.protocol+"//"+window.location.host+window.location.pathname+"?"+r.toString();n!=window.location.href&&window.history.pushState(a.$productListing.html(),"",n)}))},a.toolbarOrderingProducts=function(){a.$body.on("click",".catalog-toolbar__ordering .dropdown .dropdown-menu a",(function(t){t.preventDefault();var a=e(t.currentTarget),o=a.closest(".dropdown");o.find("li a").removeClass("active"),a.closest("li a").addClass("active"),o.find("a[data-bs-toggle=dropdown] span").html(a.html()),a.closest(".catalog-toolbar__ordering").find("input[name=sort-by]").val(a.data("value")).trigger("change")}))},a.lightBox=function(){var t=e(".review-images-total.review-images");t.length&&t.map((function(t,a){e(a).data("lightGallery")||e(a).lightGallery({selector:"a",thumbnail:!0,share:!1,fullScreen:!1,autoplay:!1,autoplayControls:!1,actualSize:!1})}))},a.stickyAddToCart=function(){var t=e(".header--product");e(window).scroll((function(){e(this).scrollTop()>50?t.addClass("header--sticky"):t.removeClass("header--sticky")})),e(".header--product ul li > a ").on("click",(function(t){t.preventDefault();var a=e(this).attr("href");e(this).closest("li").siblings("li").removeClass("active"),e(this).closest("li").addClass("active"),e(a).closest(".product-detail-tabs").find("a").removeClass("active"),e(a).addClass("active"),e(".header--product ul li").removeClass("active"),e('.header--product ul li a[href="'+a+'"]').closest("li").addClass("active"),e("#product-detail-tabs-content > .tab-pane").removeClass("active show"),e(e(a).attr("href")).addClass("active show"),e("html, body").animate({scrollTop:e(a).offset().top-e(".header--product .navigation").height()-165+"px"},0)}));var a=e(".product-details .entry-product-header"),o=e(".sticky-atc-wrap");if(o.length&&a.length&&e(window).width()<768){var r=a.offset().top+a.outerHeight(),n=e(".footer-mobile"),i=0,s=n.length>0,c=function(){var t=e(window).scrollTop(),a=e(window).height(),c=e(document).height();i=s?n.offset().top-n.height():t,t+a===c||r>t||t>i?o.removeClass("sticky-atc-shown"):r<t&&t+a!==c&&o.addClass("sticky-atc-shown")};c(),e(window).scroll(c)}},e((function(){a.init(),window.onBeforeChangeSwatches=function(t,e){var a=e.closest(".product-details"),o=a.find(".cart-form");a.find(".error-message").hide(),a.find(".success-message").hide(),a.find(".number-items-available").html("").hide();var r=o.find("button[type=submit]");r.addClass("button-loading"),t&&t.attributes&&r.prop("disabled",!0)},window.onChangeSwatchesSuccess=function(t,o){var r=o.closest(".product-details"),n=r.find(".cart-form"),i=e(".footer-cart-form");if(r.find(".error-message").hide(),r.find(".success-message").hide(),t){var s=n.find("button[type=submit]");if(s.removeClass("button-loading"),t.error)s.prop("disabled",!0),r.find(".number-items-available").html('<span class="text-danger">('+t.message+")</span>").show(),n.find(".hidden-product-id").val(""),i.find(".hidden-product-id").val("");else{var c=t.data,l=r.find(".box-price"),d=l.find(".price"),u=l.find(".price-old");c.sale_price!==c.price?u.removeClass("d-none"):u.addClass("d-none"),d.text(c.display_sale_price),u.text(c.display_price),c.sku?(r.find(".meta-sku .meta-value").text(c.sku),r.find(".meta-sku").removeClass("d-none")):r.find(".meta-sku").addClass("d-none"),n.find(".hidden-product-id").val(c.id),i.find(".hidden-product-id").val(c.id),s.prop("disabled",!1),c.error_message?(s.prop("disabled",!0),r.find(".number-items-available").html('<span class="text-danger">('+c.error_message+")</span>").show()):c.success_message?r.find(".number-items-available").html(t.data.stock_status_html).show():r.find(".number-items-available").html("").hide();var p=c.unavailable_attribute_ids||[];r.find(".attribute-swatch-item").removeClass("pe-none"),r.find(".product-filter-item option").prop("disabled",!1),p&&p.length&&p.map((function(t){var e=r.find('.attribute-swatch-item[data-id="'+t+'"]');e.length?(e.addClass("pe-none"),e.find("input").prop("checked",!1)):(e=r.find('.product-filter-item option[data-id="'+t+'"]')).length&&e.prop("disabled","disabled").prop("selected",!1)}));var f=r.find(".galleries");if(f.length){c.image_with_sizes.origin.length||c.image_with_sizes.origin.push(siteConfig.default_image),c.image_with_sizes.thumb.length||c.image_with_sizes.thumb.push(siteConfig.img_placeholder);var m="";c.image_with_sizes.origin.forEach((function(t){m+='<figure class="border-radius-10">\n                                    <img src="'.concat(t,'" alt="').concat(c.name,'">\n                                </figure>')})),f.find(".product-image-slider").slick("unslick").html(m);var h="";c.image_with_sizes.thumb.forEach((function(t){h+='<div>\n                                <img src="'.concat(t,'" alt="').concat(c.name,'">\n                            </div>')})),f.find(".slider-nav-thumbnails").slick("unslick").html(h),a.productGallery(!0,f.find(".product-image-slider"))}}}},jQuery().mCustomScrollbar&&e(".ps-custom-scrollbar").mCustomScrollbar({theme:"dark",scrollInertia:0}),e(document).on("click",".toggle-show-more",(function(t){t.preventDefault(),e("#store-short-description").fadeOut(),e(this).hide(),e("#store-content").slideDown(500),e(".toggle-show-less").show()})),e(document).on("click",".toggle-show-less",(function(t){t.preventDefault(),e(this).hide(),e("#store-content").slideUp(500),e("#store-short-description").fadeIn(),e(".toggle-show-more").show()}));var t=function(){e(".page-breadcrumbs ol li").each((function(){var t=e(this);t.is(":first-child")||t.is(":nth-child(2)")||t.is(":last-child")||(t.is(":nth-child(3)")?t.find("a").replaceWith("..."):t.find("a").closest("li").hide())}))};e(window).width()<768&&t(),e(window).on("resize",(function(){t()})),e(".product-entry-meta .anchor-link").on("click",(function(t){t.preventDefault();var a=e(this).attr("href");e("#product-detail-tabs a").removeClass("active"),e(a).addClass("active"),e("#product-detail-tabs-content > .tab-pane").removeClass("active show"),e(e(a).attr("href")).addClass("active show"),e("html, body").animate({scrollTop:e(a).offset().top-e(".header--product .navigation").height()-250+"px"},0)})),e(document).on("click",".header-top .header-cart-button",(function(t){t.preventDefault(),a.$shopCart.show(),a.loadAjaxCart()}))}))}(jQuery)})();