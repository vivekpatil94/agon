!function(e){"use strict";e.ajaxSetup({headers:{"X-CSRF-TOKEN":e('meta[name="csrf-token"]').attr("content")}});var t=t||{};window.AgonApp=t;var o=e("#live-toast"),n=new bootstrap.Toast(o[0]);t.showError=function(e){t.showAlert("alert-danger",e)},t.showSuccess=function(e){t.showAlert("alert-success",e)},t.handleError=function(o){void 0!==o.errors&&o.errors.length?t.handleValidationError(o.errors):void 0!==o.responseJSON?void 0!==o.responseJSON.errors?422===o.status&&t.handleValidationError(o.responseJSON.errors):void 0!==o.responseJSON.message?t.showError(o.responseJSON.message):e.each(o.responseJSON,(function(o,n){e.each(n,(function(e,o){t.showError(o)}))})):t.showError(o.statusText)},t.handleValidationError=function(o){var n="";e.each(o,(function(e,t){""!==n&&(n+="<br />"),n+=t})),t.showError(n)},t.showAlert=function(e,t){e&&""!==t&&(o.removeClass((function(e,t){return(t.match(/(^|\s)alert-\S+/g)||[]).join(" ")})),o.find(".toast-body").html(t),o.addClass(e),n.show())},t.backToTop=function(){var t=0,o=e("#scrollUp");e(window).scroll((function(){var n=e(window).scrollTop();n>t&&n>500?o.addClass("active"):o.removeClass("active"),t=n})),o.on("click",(function(){e("html, body").animate({scrollTop:"0px"},0)}))},e((function(){if(window.noticeMessages){var o="";window.noticeMessages.forEach((function(e){o+='<li class="'.concat("error"==e.type?"text-danger":"text-success",'">').concat(e.message,"</li>")})),t.showAlert("alert-info",'<ul class="toast-list">'+o+"</ul>")}t.backToTop(),e(document).on("submit",".newsletter-form",(function(o){o.preventDefault(),o.stopPropagation();var n=e(this),s=n.find("button[type=submit]");e.ajax({type:"POST",cache:!1,url:n.prop("action"),data:new FormData(n[0]),contentType:!1,processData:!1,beforeSend:function(){s.addClass("disabled button-loading")},success:function(e){e.error?t.showError(e.message):(n.find("input[type=email]").val(""),t.showSuccess(e.message))},error:function(e){t.handleError(e)},complete:function(){"undefined"!=typeof refreshRecaptcha&&refreshRecaptcha(),s.removeClass("disabled button-loading")}})})),e(document).on("submit",".faq-filter-form",(function(t){t.preventDefault(),t.stopPropagation();var o=e(this),n=o.find("button[type=submit]");n.addClass("disabled button-loading");var s=o.find("[name=q]").val();e(".faq-list-items").length&&(e(".faq-list-items").closest("section").length&&e([document.documentElement,document.body]).animate({scrollTop:e(".faq-list-items").closest("section").offset().top-150},150),e(".faq-list-items").each((function(){e(this).find(".faq-question, .faq-answer").each((function(){var t=e(this);t.removeHighlight(),s&&t.highlight(s)}))})),e(".faq-list-items").find(".faq-item").each((function(){var t=e(this);s?t.find(".highlight").length?t.fadeIn():t.fadeOut():t.fadeIn()}))),setTimeout((function(){n.removeClass("disabled button-loading")}),2e3)}))}))}(jQuery),jQuery.fn.highlight=function(e){function t(e,o){var n=0;if(3==e.nodeType){var s=e.data.toUpperCase().indexOf(o);if(s>=0){var r=document.createElement("span");r.className="highlight";var a=e.splitText(s),i=(a.splitText(o.length),a.cloneNode(!0));r.appendChild(i),a.parentNode.replaceChild(r,a),n=1}}else if(1==e.nodeType&&e.childNodes&&!/(script|style)/i.test(e.tagName))for(var l=0;l<e.childNodes.length;++l)l+=t(e.childNodes[l],o);return n}return this.each((function(){t(this,e.toUpperCase())}))},jQuery.fn.removeHighlight=function(){function e(t){for(var o=0,n=t.childNodes,s=n.length;o<s;o++){var r=n[o];if(1!=r.nodeType){if(3==r.nodeType){var a=r.nextSibling;if(null!=a&&3==a.nodeType){var i=r.nodeValue+a.nodeValue,l=t.ownerDocument.createTextNode(i);t.insertBefore(l,r),t.removeChild(r),t.removeChild(a),o--,s--}}}else e(r)}}return this.find("span.highlight").each((function(){var t=this.parentNode;t.replaceChild(this.firstChild,this),e(t)})).end()};